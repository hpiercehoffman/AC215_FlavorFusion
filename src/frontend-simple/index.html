<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hotel Selector</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Select a Hotel</h1>
    <select id="hotelDropdown">
        <!-- Dropdown options will be populated here -->
    </select>
    <button onclick="sendHotel()">Submit</button>
    <br><br>
    <div id="output"></div>
    <script>

        axios.defaults.baseURL = "http://localhost:9000/";

        // Function to populate dropdown
        function populateDropdown() {
            axios.get('/populate')
                .then(response => {
                    const dropdown = document.getElementById('hotelDropdown');
                    response.data.forEach(hotel => {
                        let option = document.createElement('option');
                        option.value = hotel;
                        option.text = hotel;
                        dropdown.appendChild(option);
                    });
                })
                .catch(error => console.error('Error:', error));
        }

        // Function to send selected hotel and display response
        function sendHotel() {
            output.innerHTML = '';
            const selectedHotel = document.getElementById('hotelDropdown').value;
            axios.post('/predict', { hotel: selectedHotel })
                .then(response => {
                    output.innerHTML = 'Output: ' + response.data.summary;
                })
                .catch(error => console.error('Error:', error));
        }

        // Populate dropdown on page load
        window.onload = populateDropdown;
    </script>
</body>
</html>





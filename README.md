AC215: Milestone 2
==============================

Project Organization
------------
      ├── LICENSE
      ├── README.md
      ├── notebooks
      ├── references
      ├── requirements.txt
      └── src
            ├── docker-volumes
            │   ├── google-data.dvc
            │   ├── lsars-data.dvc
            │   └── notebooks
            │       ├── process_google.ipynb
            │       └── process_lsars.ipynb
            ├── preprocess_google
            │   ├── Dockerfile
            │   ├── Pipfile
            │   ├── Pipfile.lock
            │   ├── preprocess.py
            │   ├── cors.py
            │   ├── utils.py
            │   ├── docker-compose.yml
            │   └── docker-shell.sh	
            └── preprocess_lsars
                ├── Dockerfile
                ├── Pipfile
                ├── Pipfile.lock
                ├── preprocess_lsars.py
                ├── docker-compose.yml
                ├── docker-shell.sh
                └── requirements.txt

--------
# AC215 - Milestone2 - FlavorFusion

**Team Members**
Varun Ullanat, Hannah Pierce-Hoffman

**Group Name**
FlavorFusion

**Project**
In this project, we aim to build an app that captures cultural differences in Google resturaunt reviews using abstractive summaries generated by a large language model. 

### Milestone2 ###

We use two datasets in this work:
1. Google Local dataset: Reviews and business metadata from the state of Massachusetts, USA, totalling about 2GB of data. This dataset can be found in the reviews-data bucket on our private Google Cloud project.
2. LSARS dataset: Reviews of products from an e-commerece website with a total space of 250 MB. This dataset can be found in the lsars-data bucket on our private Google Cloud project.

**preprocess_google container**
- This container reads 2GB of data and filters out non-restaurant businesses and low-quality reviews. 
- Input to this container is input and output file locations mounted on the container, parameters for filtering, secrets needed - via docker
- Output from this container stored on mounted folder

1. `src/preprocess_google/preprocess.py`  - Here we do preprocessing on our Google Local dataset by reading the reviews and metadata json files, filtering them according to input parameters, combining them such that all reviews for each restaraunt is concatenated by a special seperating token. 
2. `src/preprocess_google/utils.py` - Utility function like reading json files and a array of business labels to keep. 
3. `src/preprocess_google/cors.py` - File that enables CORS to connect label studio directly from GCS Bucket. 
4. `src/preprocess_google/Dockerfile` - This dockerfile starts with  `python:3.9-slim-buster`. It uses secrets to connect to GCS and sets up the `pipenv` environment with required python packages from `src/preprocess_google/Pipfile`. 

To run Dockerfile - `Instructions here`

**preprocess_lsars container***
- This container is responsible for preprocessing and translating the LSARS dataset, which is in Chinese.
- We use the Google Cloud Translate API to translate the text to English. This API provides free translation for the first 500,000 tokens, but after that, the price is $20 per 1 million tokens. We authenticate to the Cloud Translate API via our project's service account.

1. `src/preprocess_lsars/preprocess_lsars.py`
2. `src/preprocess_lsars/Dockerfile`

To run Dockerfile - `Instructions here`

**Notebooks** 
This folder is currently empty, but will be used to store code which doesn't belong to a specific container, such as reports, insights, or visualizations.

**References**
This folder is currently empty, but will be used to store code from the PRIMERA model.

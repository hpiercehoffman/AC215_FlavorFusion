AC215-Template (Final Milestone)
==============================

AC215 - Milestone2

Project Organization
------------
      â”œâ”€â”€ LICENSE
      â”œâ”€â”€ README.md
      â”œâ”€â”€ notebooks
      â”œâ”€â”€ references
      â”œâ”€â”€ requirements.txt
      â””â”€â”€ src
            â”œâ”€â”€ docker-volumes
            â”‚Â Â  â”œâ”€â”€ google-data.dvc
            â”‚   â”œâ”€â”€ lsars-data.dvc
            â”‚   â”œâ”€â”€ Pipfile.lock
            â”‚Â Â  â””â”€â”€ notebooks
            â”‚       â”œâ”€â”€ process_google.ipynb
            â”‚       â””â”€â”€ translate-data.ipynb
            â”œâ”€â”€ preprocess_google
            â”‚Â Â  â”œâ”€â”€ Dockerfile
            â”‚   â”œâ”€â”€ Pipfile
            â”‚   â”œâ”€â”€ Pipfile.lock
            â”‚Â Â  â”œâ”€â”€ preprocess.py
            â”‚   â”œâ”€â”€ cors.py
            â”‚   â”œâ”€â”€ utils.py
            â”‚   â”œâ”€â”€ docker-compose.yml
            â”‚Â Â  â””â”€â”€ docker-shell.sh	
            â””â”€â”€ preprocess_lsars
                  â”œâ”€â”€ Dockerfile
                  â”œâ”€â”€ Pipfile
                  â”œâ”€â”€ cli.py
                  â”œâ”€â”€ docker-compose.yml
                  â”œâ”€â”€ docker-shell.sh
                  â””â”€â”€ requirements.txt


--------
# AC215 - Milestone2 - FlavorFusion

**Team Members**
Varun Ullanat, Hannah Pierce-Hoffman

**Group Name**
FlavorFusion

**Project**
In this project, we aim to build an app that captures cultural differences in Google resturaunt reviews using abstractive summaries generated by an large language model. 

### Milestone2 ###

We use two datasets in this work:
(1) Google Local dataset: Reviews and business metadata from the state of Massachusetts, USA, totalling about 2GB of data. It is parked in the reviews-data bucket on Google Cloud. 
(2) LSARS dataset: Reviews of products from an e-commerece website with a total space of GB. It is parked in the lsars-data bucket on Google Cloud. 

**preprocess_google container**
- This container reads 2GB of data and filters out non-restaurant businesses and low-quality reviews. 
- Input to this container is input and output file locations mounted on the container, parameters for filtering, secrets needed - via docker
- Output from this container stored on mounted folder

(1) `src/preprocess_google/preprocess.py`  - Here we do preprocessing on our Google Local dataset by reading the reviews and metadata json files, filtering them according to input parameters, combining them such that all reviews for each restaraunt is concatenated by a special seperating token. 

(2) `src/preprocess_google/utils.py` - Utility function like reading json files and a array of business labels to keep. 

(3) `src/preprocess_google/cors.py` - File that enables CORS to connect label studio directly from GCS Bucket. 

(4) `src/preprocess_google/Dockerfile` - This dockerfile starts with  `python:3.9-slim-buster`. It uses secrets to connect to GCS and sets up the `pipenv` environment with required python packages from `src/preprocess_google/Pipfile`. 

To run Dockerfile - `Instructions here`

**Cross validation, Data Versioning**
- This container reads preprocessed dataset and creates validation split and uses dvc for versioning.
- Input to this container is source GCS location, parameters if any, secrets needed - via docker
- Output is flat file with cross validation splits
  
(1) `src/validation/cv_val.py` - Since our dataset is quite large we decided to stratify based on species and kept 80% for training and 20% for validation. Our metrics will be monitored on this 20% validation set. 

(2) `requirements.txt` - We used following packages to help us with cross validation here - `iterative-stratification` 

(3) `src/validation/Dockerfile` - This dockerfile starts with  `python:3.8-slim-buster`. This <statement> attaches volume to the docker container and also uses secrets (not to be stored on GitHub) to connect to GCS.

To run Dockerfile - `Instructions here`

**Notebooks** 
This folder contains code that is not part of container - for e.g: EDA, any ğŸ” ğŸ•µï¸â€â™€ï¸ ğŸ•µï¸â€â™‚ï¸ crucial insights, reports or visualizations. 

----
You may adjust this template as appropriate for your project.
